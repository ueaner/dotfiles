#!/usr/bin/env bash
# 截图和录屏操作菜单

# --- Rofi 菜单选项, 使用 Font Awesome SVG 文件 ---
# Full Screen Shot\0icon\x1f$HOME/.local/share/fa-icons/camera.svg
# 截图： (U+F030, camera)
# 录制： (U+F03D, video)
# 有声： (U+F130, microphone)
# 停止： (U+F04D, stop)

options=$(
    cat <<EOF
Full Screen Shot\0icon\x1ffa-camera
Window Screen Shot\0icon\x1ffa-camera
Area Screen Shot\0icon\x1ffa-camera
Full Screen Record (No Audio)\0icon\x1ffa-video
Full Screen Record (With Audio)\0icon\x1ffa-microphone
Area Record (No Audio)\0icon\x1ffa-video
Area Record (With Audio)\0icon\x1ffa-microphone
Stop Recording\0icon\x1ffa-stop
EOF
)

# 使用 rofi 显示菜单并获取用户选择
choice=$(echo -e "$options" | rofi -dmenu -i -p "Capture/Record Tool")

# choice=$(echo "$RAW_CHOICE" | sed 's/<[^>]*>//g')

# --- 执行动作 ---
case "$choice" in
"Full Screen Shot")
    ~/bin/sway-screenshot output
    ;;
"Window Screen Shot")
    ~/bin/sway-screenshot window
    ;;
"Area Screen Shot")
    ~/bin/sway-screenshot area
    ;;
"Full Screen Record (No Audio)")
    ~/bin/sway-recording output_noaudio
    ;;
"Full Screen Record (With Audio)")
    ~/bin/sway-recording output_audio
    ;;
"Area Record (No Audio)")
    ~/bin/sway-recording area_noaudio
    ;;
"Area Record (With Audio)")
    ~/bin/sway-recording area_audio
    ;;
"Stop Recording")
    ~/bin/sway-recording-stop
    ;;
esac
